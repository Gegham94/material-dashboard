<h3 mat-dialog-title>Sections View</h3>
<div class="content">
    <i class="material-icons row_action left-0" (click)="closeDialog()">close</i>
    <div id="accordion" role="tablist" >
        <div class="card-collapse" *ngFor="let items of sectionsData; let i =index">
                <div  class="card-header" role="tab" id="hed{{i}}">
                    <h5 class="mb-0">
                        <a data-toggle="collapse" href="#id{{i}}" aria-expanded="false" aria-controls="id{{i}}" class="collapsed">
                            {{items.title}}
                            <i class="material-icons">keyboard_arrow_down</i>
                        </a>
                    </h5>
                </div>
                <div id="id{{i}}" class="collapse" role="tabpanel" aria-labelledby="hed{{i}}" data-parent="#accordion">
                    <div class="card-body">
                        <ng-container *ngFor="let lesson of items.lessons; let lessonInd = index">
                            <div id="accordionChildren{{i}}" role="tablist" >
                                <div  class="card-header" role="tab" id="childHed{{lessonInd}}_{{i}}">
                                    <h5 class="mb-0">
                                        <a data-toggle="collapse" href="#childId{{lessonInd}}_{{i}}" aria-expanded="false" aria-controls="id{{lessonInd}}_{{i}}" class="collapsed">
                                            {{lesson.title}}
                                            <i class="material-icons">keyboard_arrow_down</i>
                                        </a>
                                    </h5>
                                </div>
                            </div>
                            <div id="childId{{lessonInd}}_{{i}}" class="collapse" role="tabpanel" aria-labelledby="childHed{{lessonInd}}_{{i}}" data-parent="#accordionChildren{{i}}" style="">
                            <div class="p-2">
                                <div class="d-flex align-items-start gap-1">
                                    <p class="col-lg-2 col-4 white-space-nowrap p-0">Description -</p>
                                    <p *ngIf="lesson.description; else emptyField" [innerHTML]="lesson.description"></p>
                                </div>
                                <div class="d-flex align-items-start gap-1" *ngIf="lesson.type==='article'">
                                    <p class="col-lg-2 col-4 white-space-nowrap p-0">Article -</p>
                                    <p [innerHTML]="lesson.article"></p>
                                </div>
                                <div class="d-flex align-items-start gap-1" *ngIf="lesson.type==='video' && lesson.video_url">
                                    <p class="col-lg-2 col-4 white-space-nowrap p-0">Video -</p>
                                    <div class="w-100">
                                        <iframe
                                            width="100%"
                                            height="250"
                                            [src]="lesson.video_url"
                                            frameborder="0"
                                            webkitallowfullscreen
                                            mozallowfullscreen
                                            allowfullscreen
                                        ></iframe>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </ng-container>
                    </div>
                </div>
        </div>

    </div>
</div>

<ng-template #emptyField>
    <p>N/A</p>
</ng-template>
